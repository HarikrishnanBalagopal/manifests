<!doctype html>
<html itemscope itemtype="http://schema.org/WebPage" lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.111.2">
<meta name="robots" content="index, follow">


<link rel="shortcut icon" href="/manifests/favicons/favicon.ico" >
<link rel="apple-touch-icon" href="/manifests/favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="/manifests/favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/manifests/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/manifests/favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="/manifests/favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="/manifests/favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="/manifests/favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/manifests/favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="/manifests/favicons/android-192x192.png" sizes="192x192">

<title>Pipelines | Kubeflow on IKS</title>
<meta name="description" content="Instructions for using Kubeflow Pipelines">
<meta property="og:title" content="Pipelines" />
<meta property="og:description" content="Instructions for using Kubeflow Pipelines" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://ibm.github.io/manifests/docs/started/pipelines/" /><meta property="article:section" content="docs" />

<meta property="og:site_name" content="Kubeflow on IKS" />
<meta itemprop="name" content="Pipelines">
<meta itemprop="description" content="Instructions for using Kubeflow Pipelines">

<meta itemprop="wordCount" content="769">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Pipelines"/>
<meta name="twitter:description" content="Instructions for using Kubeflow Pipelines"/>




<link rel="preload" href="/manifests/scss/main.min.3939a80c32100bd99b05b4aca0c29c287b38bf74cd6cdb77ecdb245c4fa5d76d.css" as="style">
<link href="/manifests/scss/main.min.3939a80c32100bd99b05b4aca0c29c287b38bf74cd6cdb77ecdb245c4fa5d76d.css" rel="stylesheet" integrity="">

<script
  src="https://code.jquery.com/jquery-3.6.0.min.js"
  integrity="sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK"
  crossorigin="anonymous"></script>

  </head>
  <body class="td-page">
    <header>
      <nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
  <a class="navbar-brand" href="/manifests/"><span class="navbar-brand__logo navbar-logo"></span><span class="navbar-brand__name">Kubeflow on IKS</span></a>
  <div class="td-navbar-nav-scroll ml-md-auto" id="main_navbar">
    <ul class="navbar-nav mt-2 mt-lg-0">
      <li class="nav-item mr-4 mb-2 mb-lg-0">
        <a class="nav-link active" href="/manifests/docs/"><i class='fas fa-book pr-2'></i><span class="active">Documentation</span></a>
      </li>
      <li class="nav-item mr-4 mb-2 mb-lg-0">
        <a class="nav-link" href="/manifests/blog/"><i class='fas fa-rss pr-2'></i><span>Blog</span></a>
      </li>
      <li class="nav-item mr-4 mb-2 mb-lg-0">
        <a class="nav-link" href="https://github.com/IBM/manifests" target="_blank"><i class='fab fa-github pr-2'></i><span>GitHub</span></a>
      </li>
      <li class="nav-item dropdown mr-4 d-none d-lg-block">
        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
	Release Version
</a>
<div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
	
	
	
	<a class="dropdown-item" href="https://ibm.github.io/manifests/">latest</a>
	
	<a class="dropdown-item" href="https://ibm.github.io/manifests/">v1.7</a>
	
</div>
</li>
      </ul>
  </div>
  <div class="navbar-nav d-none d-lg-block">
    
  </div>
</nav>
    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
            
<div id="td-sidebar-menu" class="td-sidebar__inner">
  <form class="td-sidebar__search d-flex align-items-center">
    
    <button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type="button" data-toggle="collapse" data-target="#td-section-nav" aria-controls="td-section-nav" aria-expanded="false" aria-label="Toggle section navigation">
    </button>
  </form>
  <nav class="collapse td-sidebar-nav foldable-nav" id="td-section-nav">
    <ul class="td-sidebar-nav__section pr-md-3 ul-0">
      <li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id="m-manifestsdocs-li">
  <a href="/manifests/docs/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section tree-root" id="m-manifestsdocs"><span class="">Documentation</span></a>
  <ul class="ul-1">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-manifestsdocsprerequisites-li">
  <input type="checkbox" id="m-manifestsdocsprerequisites-check"/>
  <label for="m-manifestsdocsprerequisites-check"><a href="/manifests/docs/prerequisites/" class="align-left pl-0  td-sidebar-link td-sidebar-link__section" id="m-manifestsdocsprerequisites"><span class="">Prerequisites</span></a></label>
  
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-manifestsdocsprerequisitesclassic-li">
  <input type="checkbox" id="m-manifestsdocsprerequisitesclassic-check"/>
  <label for="m-manifestsdocsprerequisitesclassic-check"><a href="/manifests/docs/prerequisites/classic/" class="align-left pl-0  td-sidebar-link td-sidebar-link__page" id="m-manifestsdocsprerequisitesclassic"><span class="">Kubernetes Cluster on Classic Infra</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-manifestsdocsprerequisitesvpc-li">
  <input type="checkbox" id="m-manifestsdocsprerequisitesvpc-check"/>
  <label for="m-manifestsdocsprerequisitesvpc-check"><a href="/manifests/docs/prerequisites/vpc/" class="align-left pl-0  td-sidebar-link td-sidebar-link__page" id="m-manifestsdocsprerequisitesvpc"><span class="">Kubernetes cluster on a VPC</span></a></label>
  
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-manifestsdocsdeployment-li">
  <input type="checkbox" id="m-manifestsdocsdeployment-check"/>
  <label for="m-manifestsdocsdeployment-check"><a href="/manifests/docs/deployment/" class="align-left pl-0  td-sidebar-link td-sidebar-link__section" id="m-manifestsdocsdeployment"><span class="">Deployment</span></a></label>
  
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-manifestsdocsdeploymentdeployment-process-li">
  <input type="checkbox" id="m-manifestsdocsdeploymentdeployment-process-check"/>
  <label for="m-manifestsdocsdeploymentdeployment-process-check"><a href="/manifests/docs/deployment/deployment-process/" class="align-left pl-0  td-sidebar-link td-sidebar-link__page" id="m-manifestsdocsdeploymentdeployment-process"><span class="">Kubeflow Deployment Process</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-manifestsdocsdeploymentcompatibility-li">
  <input type="checkbox" id="m-manifestsdocsdeploymentcompatibility-check"/>
  <label for="m-manifestsdocsdeploymentcompatibility-check"><a href="/manifests/docs/deployment/compatibility/" class="align-left pl-0  td-sidebar-link td-sidebar-link__page" id="m-manifestsdocsdeploymentcompatibility"><span class="">IBM Cloud Kubernetes and Kubeflow Compatibility</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-manifestsdocsdeploymentinstall-li">
  <input type="checkbox" id="m-manifestsdocsdeploymentinstall-check"/>
  <label for="m-manifestsdocsdeploymentinstall-check"><a href="/manifests/docs/deployment/install/" class="align-left pl-0  td-sidebar-link td-sidebar-link__page" id="m-manifestsdocsdeploymentinstall"><span class="">Install Kubeflow on IKS</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-manifestsdocsdeploymentauthentication-li">
  <input type="checkbox" id="m-manifestsdocsdeploymentauthentication-check"/>
  <label for="m-manifestsdocsdeploymentauthentication-check"><a href="/manifests/docs/deployment/authentication/" class="align-left pl-0  td-sidebar-link td-sidebar-link__page" id="m-manifestsdocsdeploymentauthentication"><span class="">Securing the Kubeflow authentication with HTTPS</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-manifestsdocsdeploymentuninstall-li">
  <input type="checkbox" id="m-manifestsdocsdeploymentuninstall-check"/>
  <label for="m-manifestsdocsdeploymentuninstall-check"><a href="/manifests/docs/deployment/uninstall/" class="align-left pl-0  td-sidebar-link td-sidebar-link__page" id="m-manifestsdocsdeploymentuninstall"><span class="">Uninstall Kubeflow</span></a></label>
  
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id="m-manifestsdocsstarted-li">
  <input type="checkbox" id="m-manifestsdocsstarted-check" checked/>
  <label for="m-manifestsdocsstarted-check"><a href="/manifests/docs/started/" class="align-left pl-0  td-sidebar-link td-sidebar-link__section" id="m-manifestsdocsstarted"><span class="">How to Use Kubeflow</span></a></label>
  
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id="m-manifestsdocsstartedpipelines-li">
  <input type="checkbox" id="m-manifestsdocsstartedpipelines-check" checked/>
  <label for="m-manifestsdocsstartedpipelines-check"><a href="/manifests/docs/started/pipelines/" class="align-left pl-0  active td-sidebar-link td-sidebar-link__page" id="m-manifestsdocsstartedpipelines"><span class="td-sidebar-nav-active-item">Pipelines</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-manifestsdocsstartedusing-icr-li">
  <input type="checkbox" id="m-manifestsdocsstartedusing-icr-check"/>
  <label for="m-manifestsdocsstartedusing-icr-check"><a href="/manifests/docs/started/using-icr/" class="align-left pl-0  td-sidebar-link td-sidebar-link__page" id="m-manifestsdocsstartedusing-icr"><span class="">Using IBM Cloud Container Registry (ICR)</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-manifestsdocsstartediks-e2e-li">
  <input type="checkbox" id="m-manifestsdocsstartediks-e2e-check"/>
  <label for="m-manifestsdocsstartediks-e2e-check"><a href="/manifests/docs/started/iks-e2e/" class="align-left pl-0  td-sidebar-link td-sidebar-link__page" id="m-manifestsdocsstartediks-e2e"><span class="">End-to-end Kubeflow on IBM Cloud</span></a></label>
  
</li>
  </ul>
</li>
  </ul>
</li>
    </ul>
  </nav>
</div>

          </aside>
          <aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none">
            
<div class="td-page-meta ml-2 pb-1 pt-2 mb-0">
<a href="https://github.com/IBM/manifests/tree/main/website/content/en/docs/started/pipelines.md" class="td-page-meta--view" target="_blank" rel="noopener"><i class="fa-solid fa-file-lines fa-fw"></i> View page source</a>
  <a href="https://github.com/IBM/manifests/edit/main/website/content/en/docs/started/pipelines.md" class="td-page-meta--edit" target="_blank" rel="noopener"><i class="fa-solid fa-pen-to-square fa-fw"></i> Edit this page</a>
  <a href="https://github.com/IBM/manifests/new/main/website/content/en/docs/started/pipelines.md?filename=change-me.md&amp;value=---%0Atitle%3A&#43;%22Long&#43;Page&#43;Title%22%0AlinkTitle%3A&#43;%22Short&#43;Nav&#43;Title%22%0Aweight%3A&#43;100%0Adescription%3A&#43;%3E-%0A&#43;&#43;&#43;&#43;&#43;Page&#43;description&#43;for&#43;heading&#43;and&#43;indexes.%0A---%0A%0A%23%23&#43;Heading%0A%0AEdit&#43;this&#43;template&#43;to&#43;create&#43;your&#43;new&#43;page.%0A%0A%2A&#43;Give&#43;it&#43;a&#43;good&#43;name%2C&#43;ending&#43;in&#43;%60.md%60&#43;-&#43;e.g.&#43;%60getting-started.md%60%0A%2A&#43;Edit&#43;the&#43;%22front&#43;matter%22&#43;section&#43;at&#43;the&#43;top&#43;of&#43;the&#43;page&#43;%28weight&#43;controls&#43;how&#43;its&#43;ordered&#43;amongst&#43;other&#43;pages&#43;in&#43;the&#43;same&#43;directory%3B&#43;lowest&#43;number&#43;first%29.%0A%2A&#43;Add&#43;a&#43;good&#43;commit&#43;message&#43;at&#43;the&#43;bottom&#43;of&#43;the&#43;page&#43;%28%3C80&#43;characters%3B&#43;use&#43;the&#43;extended&#43;description&#43;field&#43;for&#43;more&#43;detail%29.%0A%2A&#43;Create&#43;a&#43;new&#43;branch&#43;so&#43;you&#43;can&#43;preview&#43;your&#43;new&#43;file&#43;and&#43;request&#43;a&#43;review&#43;via&#43;Pull&#43;Request.%0A" class="td-page-meta--child" target="_blank" rel="noopener"><i class="fa-solid fa-pen-to-square fa-fw"></i> Create child page</a>
  <a href="https://github.com/IBM/manifests/issues/new?title=Pipelines" class="td-page-meta--issue" target="_blank" rel="noopener"><i class="fa-solid fa-list-check fa-fw"></i> Create documentation issue</a>
  <a href="https://github.com/IBM/manifests/issues/new" class="td-page-meta--project-issue" target="_blank" rel="noopener"><i class="fa-solid fa-list-check fa-fw"></i> Create project issue</a>
  
</div>

            <div class="td-toc">
        <nav id="TableOfContents">
  <ul>
    <li><a href="#1-single-user-kubeflow-pipelines-deployment-with-the-sdk">1. Single-user Kubeflow Pipelines deployment with the SDK</a></li>
    <li><a href="#2-authenticating-multi-user-kubeflow-pipelines-with-the-sdk">2. Authenticating multi-user Kubeflow Pipelines with the SDK</a></li>
  </ul>

  <ul>
    <li><a href="#run-pipelines-from-the-python-dsl-source-code">Run pipelines from the Python DSL source code</a></li>
    <li><a href="#run-pipelines-from-the-compiled-pipeline-file">Run pipelines from the compiled pipeline file</a></li>
    <li><a href="#run-pipelines-from-the-list-of-uploaded-pipelines">Run pipelines from the list of uploaded pipelines</a></li>
  </ul>
</nav>
      </div>
    
            

	
		



  
  

	
		



  
  

	

          </aside>
          <main class="col-12 col-md-9 col-xl-8 pl-md-5" role="main">
            
  

            <nav aria-label="breadcrumb" class="td-breadcrumbs">
  <ol class="breadcrumb">
  <li class="breadcrumb-item">
    <a href="https://ibm.github.io/manifests/docs/">Documentation</a>
  </li>
  <li class="breadcrumb-item">
    <a href="https://ibm.github.io/manifests/docs/started/">How to Use Kubeflow</a>
  </li>
  <li class="breadcrumb-item active" aria-current="page">
    <a href="https://ibm.github.io/manifests/docs/started/pipelines/" aria-disabled="true" class="btn-link disabled">Pipelines</a>
  </li>
  </ol>
</nav>
            
<div class="td-content">
	<h1>Pipelines</h1>
	<div class="lead">Instructions for using Kubeflow Pipelines</div>
	<header class="article-meta">
		

  
    


  
    


  

		
	</header>    
	<p>By default, Kubeflow Pipelines on IBM Cloud are running with the Tekton backend. In this guide you&rsquo;ll learn how to use the Kubeflow Pipelines with the Tekton backend <a href="https://github.com/kubeflow/kfp-tekton">(kfp-tekton)</a>. This assumes you have deployed <a href="../../deployment/install">Kubeflow on IBM Cloud</a>.</p>
<p>You can also do a <a href="https://github.com/kubeflow/kfp-tekton/blob/master/guides/kfp_tekton_install.md#standalone-kubeflow-pipelines-with-tekton-backend-deployment">standalone installation of Kubeflow Pipelines with Tekton</a> if you don&rsquo;t want whole of Kubeflow.</p>
<img src="../kfp-tekton.png" alt="KFP-Tekton">
<p>In this tutorial, we use the below single step pipeline as our example</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">kfp</span> <span class="kn">import</span> <span class="n">dsl</span>
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">echo_op</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">dsl</span><span class="o">.</span><span class="n">ContainerOp</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">        <span class="n">name</span><span class="o">=</span><span class="s1">&#39;echo&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">image</span><span class="o">=</span><span class="s1">&#39;busybox&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">command</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;sh&#39;</span><span class="p">,</span> <span class="s1">&#39;-c&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">        <span class="n">arguments</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;echo &#34;Got scheduled&#34;&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nd">@dsl.pipeline</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="n">name</span><span class="o">=</span><span class="s1">&#39;echo&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="n">description</span><span class="o">=</span><span class="s1">&#39;echo pipeline&#39;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">echo_pipeline</span><span class="p">(</span>
</span></span><span class="line"><span class="cl"><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="n">echo</span> <span class="o">=</span> <span class="n">echo_op</span><span class="p">()</span>
</span></span></code></pre></div><h1 id="declare-the-python-client-for-kubeflow-pipelines">Declare the Python Client for Kubeflow Pipelines</h1>
<h2 id="1-single-user-kubeflow-pipelines-deployment-with-the-sdk">1. Single-user Kubeflow Pipelines deployment with the SDK</h2>
<ul>
<li>You will be using the Kubeflow Pipelines with Tekton SDK (<a href="https://pypi.org/project/kfp-tekton/"><code>kfp-tekton</code></a>) v0.4.0 or above.</li>
<li>If you have deployed Kubeflow on IBM Cloud using the
<a href="https://raw.githubusercontent.com/kubeflow/manifests/v1.2-branch/kfdef/kfctl_ibm.v1.2.0.yaml"><code>kfctl_ibm.v1.2.0.yaml</code></a>
manifest you can configure (<a href="https://pypi.org/project/kfp-tekton/"><code>kfp-tekton</code></a>) SDK to list all your Kubeflow Pipelines experiments as follows:</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">kfp_tekton</span> <span class="kn">import</span> <span class="n">TektonClient</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">KUBEFLOW_PUBLIC_ENDPOINT_URL</span> <span class="o">=</span> <span class="s1">&#39;http://&lt;YOUR_KF_PUBLIC_ENDPOINT_URL&gt;&#39;</span>
</span></span><span class="line"><span class="cl"><span class="n">KUBEFLOW_PROFILE_NAME</span> <span class="o">=</span> <span class="kc">None</span>
</span></span><span class="line"><span class="cl"><span class="n">client</span> <span class="o">=</span> <span class="n">TektonClient</span><span class="p">(</span><span class="n">host</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">KUBEFLOW_PUBLIC_ENDPOINT_URL</span><span class="si">}</span><span class="s1">/pipeline&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">experiments</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">list_experiments</span><span class="p">(</span><span class="n">namespace</span><span class="o">=</span><span class="n">KUBEFLOW_PROFILE_NAME</span><span class="p">)</span>
</span></span></code></pre></div><p><strong>Note</strong>: <code>&lt;YOUR_KF_PUBLIC_ENDPOINT_URL&gt;</code> is the EXTERNAL_IP you exposed as a LoadBalancer following <a href="https://www.kubeflow.org/docs/ibm/deploy/install-kubeflow-on-iks/#expose-the-kubeflow-endpoint-as-a-loadbalancer"><code>this instruction</code></a>. If you have not done that step during Kubeflow setup, please include port 31380 because the Kubeflow endpoint is exposed with NodePort 31380.</p>
<h2 id="2-authenticating-multi-user-kubeflow-pipelines-with-the-sdk">2. Authenticating multi-user Kubeflow Pipelines with the SDK</h2>
<ul>
<li>You will be using the Kubeflow Pipelines SDK (<a href="https://pypi.org/project/kfp-tekton/"><code>kfp-tekton</code></a>) v0.4.0 or above.</li>
<li>Note that this feature is available with multi-user, auth-enabled Kubeflow installation deployed from the <a href="https://raw.githubusercontent.com/kubeflow/manifests/v1.2-branch/kfdef/kfctl_ibm_multi_user.v1.2.0.yaml"><code>kfctl_ibm_multi_user.v1.2.0.yaml</code></a>
manifest.</li>
</ul>
<p><strong>Note</strong>: You&rsquo;re highly recommended enabling HTTPS for the public endpoint of Kubeflow because this method transports sensitive information like session cookie values over edge network.</p>
<p>It requires authentication via the public endpoint of Kubeflow deployment when using the Kubeflow Pipelines multi-user feature with Pipelines SDK.</p>
<p>You need to provide the following three variables if you&rsquo;re using an in-cluster Jupyter notebook or a remote client machine:</p>
<ol>
<li><code>KUBEFLOW_PUBLIC_ENDPOINT_URL</code> - Kubeflow public endpoint URL. You can obtain it from command <code>ibmcloud ks nlb-dns ls --cluster &lt;your-cluster-name&gt;</code>.</li>
<li><code>SESSION_COOKIE</code> - A session cookie starts with <code>authservice_session=</code>. You can obtain it from your browser after authenticated from Kubeflow UI. Notice that this session cookie expires in 24 hours, so you need to obtain it again after cookie expired.</li>
<li><code>KUBEFLOW_PROFILE_NAME</code> - Your Kubeflow profile name</li>
</ol>
<p>Once you provide the three variables, the SDK can use the following Python code to list all your Kubeflow Pipelines experiments:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">kfp_tekton</span> <span class="kn">import</span> <span class="n">TektonClient</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">KUBEFLOW_PUBLIC_ENDPOINT_URL</span> <span class="o">=</span> <span class="s1">&#39;https://xxxx.&lt;region-name&gt;.containers.appdomain.cloud&#39;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># this session cookie looks like &#34;authservice_session=xxxxxxx&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">SESSION_COOKIE</span> <span class="o">=</span> <span class="s1">&#39;authservice_session=xxxxxxx&#39;</span>
</span></span><span class="line"><span class="cl"><span class="n">KUBEFLOW_PROFILE_NAME</span> <span class="o">=</span> <span class="s1">&#39;&lt;your-profile-name&gt;&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">client</span> <span class="o">=</span> <span class="n">TektonClient</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="n">host</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">KUBEFLOW_PUBLIC_ENDPOINT_URL</span><span class="si">}</span><span class="s1">/pipeline&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="n">cookies</span><span class="o">=</span><span class="n">SESSION_COOKIE</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">experiments</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">list_experiments</span><span class="p">(</span><span class="n">namespace</span><span class="o">=</span><span class="n">KUBEFLOW_PROFILE_NAME</span><span class="p">)</span>
</span></span></code></pre></div><p>Pipelines components like experiments and runs are isolated by Kubeflow profiles. A Kubeflow user can only see Pipelines experiments and runs belonging to this user&rsquo;s Kubeflow profile.</p>
<h1 id="upload-pipelines">Upload pipelines</h1>
<p>Once you have declared the Python client, your Kubeflow pipelines can be uploaded using Python.</p>
<p>Run the following code inside a Python session to upload the pipelines. This example shows different versions of the pipeline using the Python client.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">os</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Initial version of the compiled pipeline</span>
</span></span><span class="line"><span class="cl"><span class="n">pipeline_file_path</span> <span class="o">=</span> <span class="s1">&#39;echo_pipeline.yaml&#39;</span>
</span></span><span class="line"><span class="cl"><span class="n">pipeline_name</span> <span class="o">=</span> <span class="s1">&#39;echo_pipeline&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># For the purpose of this tutorial, we will be using the same pipeline for both version.</span>
</span></span><span class="line"><span class="cl"><span class="n">pipeline_version_file_path</span> <span class="o">=</span> <span class="s1">&#39;echo_pipeline.yaml&#39;</span>
</span></span><span class="line"><span class="cl"><span class="n">pipeline_version_name</span> <span class="o">=</span> <span class="s1">&#39;new_echo_pipeline&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Upload initial version of the pipeline</span>
</span></span><span class="line"><span class="cl"><span class="n">pipeline_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">pipeline_file_path</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">pipeline</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">pipeline_uploads</span><span class="o">.</span><span class="n">upload_pipeline</span><span class="p">(</span><span class="n">pipeline_file</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">pipeline_name</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Upload new version of the pipeline</span>
</span></span><span class="line"><span class="cl"><span class="n">pipeline_version_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">pipeline_version_file_path</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">pipeline_version</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">pipeline_uploads</span><span class="o">.</span><span class="n">upload_pipeline_version</span><span class="p">(</span><span class="n">pipeline_version_file</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                                                                   <span class="n">name</span><span class="o">=</span><span class="n">pipeline_version_name</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                                                                   <span class="n">pipelineid</span><span class="o">=</span><span class="n">pipeline</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
</span></span></code></pre></div><h1 id="run-pipelines-from-the-sdk">Run pipelines from the SDK</h1>
<p>The <code>TektonClient</code> can run pipelines using one of the below sources:</p>
<ol>
<li><a href="#run-pipelines-from-the-python-dsl-source-code">Python DSL source code</a></li>
<li><a href="#run-pipelines-from-the-compiled-pipeline-file">Compiled pipeline file</a></li>
<li><a href="#run-pipelines-from-the-list-of-uploaded-pipelines">Uploaded pipelines on KFP engine</a></li>
</ol>
<h2 id="run-pipelines-from-the-python-dsl-source-code">Run pipelines from the Python DSL source code</h2>
<p>To learn about executing pipelines using the Python DSL source code, try the code below in a Python session using the <code>echo_pipeline</code> example.
The <code>create_run_from_pipeline_func</code> takes the DSL source code to compile and run it directly using the Kubeflow pipeline API without
uploading it to the pipeline list. This method is recommended if you are doing quick experiments without version control.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># You can overwrite the pipeline default parameters by providing a dictionary of key-value arguments.</span>
</span></span><span class="line"><span class="cl"><span class="c1"># If you don&#39;t want to overwrite the default parameters, then define the arguments as an empty dictionary.</span>
</span></span><span class="line"><span class="cl"><span class="n">arguments</span><span class="o">=</span><span class="p">{}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">client</span><span class="o">.</span><span class="n">create_run_from_pipeline_func</span><span class="p">(</span><span class="n">echo_pipeline</span><span class="p">,</span> <span class="n">arguments</span><span class="o">=</span><span class="n">arguments</span><span class="p">,</span> <span class="n">namespace</span><span class="o">=</span><span class="n">KUBEFLOW_PROFILE_NAME</span><span class="p">)</span>
</span></span></code></pre></div><h2 id="run-pipelines-from-the-compiled-pipeline-file">Run pipelines from the compiled pipeline file</h2>
<p>Alternatively, you can also run the pipeline directly using a pre-compiled file.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">EXPERIMENT_NAME</span> <span class="o">=</span> <span class="s1">&#39;Demo Experiments&#39;</span>
</span></span><span class="line"><span class="cl"><span class="n">experiment</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">create_experiment</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">EXPERIMENT_NAME</span><span class="p">,</span> <span class="n">namespace</span><span class="o">=</span><span class="n">KUBEFLOW_PROFILE_NAME</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">run</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">run_pipeline</span><span class="p">(</span><span class="n">experiment</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="s1">&#39;echo-pipeline&#39;</span><span class="p">,</span> <span class="s1">&#39;echo_pipeline.yaml&#39;</span><span class="p">)</span>
</span></span></code></pre></div><h2 id="run-pipelines-from-the-list-of-uploaded-pipelines">Run pipelines from the list of uploaded pipelines</h2>
<p>Similarly, you can also run the pipeline from the list of uploaded pipelines using the same <code>run_pipeline</code> function.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">EXPERIMENT_NAME</span> <span class="o">=</span> <span class="s1">&#39;Demo Experiments&#39;</span>
</span></span><span class="line"><span class="cl"><span class="n">experiment</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">create_experiment</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">EXPERIMENT_NAME</span><span class="p">,</span> <span class="n">namespace</span><span class="o">=</span><span class="n">KUBEFLOW_PROFILE_NAME</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Find the pipeline ID that you want to use.</span>
</span></span><span class="line"><span class="cl"><span class="n">client</span><span class="o">.</span><span class="n">list_pipelines</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">run</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">run_pipeline</span><span class="p">(</span><span class="n">experiment</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">pipeline_id</span><span class="o">=</span><span class="s1">&#39;925415d5-18e9-4e08-b57f-3b06e3e54648&#39;</span><span class="p">,</span> <span class="n">job_name</span><span class="o">=</span><span class="s1">&#39;echo_pipeline_run&#39;</span><span class="p">)</span>
</span></span></code></pre></div>
	
	
	
</div>


          </main>
        </div>
      </div>
      
<footer class="bg-dark py-5 row d-print-none">
  <div class="container-fluid mx-sm-5">
    <div class="row">
      <div class="col-6 col-sm-4 text-xs-center order-sm-2">
        
      </div>
      <div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
        
      </div>
      <div class="col-12 col-sm-4 text-center py-2 order-sm-2">
        <small class="text-white">&copy; 2023 The Kubeflow Authors. All Rights Reserved</small>
        <small class="ml-1"><a href="https://www.ibm.com/us-en/privacy" target="_blank" rel="noopener">Privacy Policy</a></small>
	
      </div>
    </div>
  </div>
</footer>


    </div>
    <script src="/manifests/js/main.min.dcf378a1184426694c54e4b705111a98593ce172d741265e17894976af6ee9db.js" integrity="sha256-3PN4oRhEJmlMVOS3BREamFk84XLXQSZeF4lJdq9u6ds=" crossorigin="anonymous"></script>
<script src='/manifests/js/tabpane-persist.js'></script>

  </body>
</html>